<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Painel Financeiro</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="style_corrected.css"/>
</head>
<body>
  <div class="container">

    <!-- Header -->
    <header>
      <div class="view-toggle">
        <button id="btn-graphs" class="active">Gráficos</button>
        <button id="btn-tables">Tabelas</button>
      </div>
      <div class="logo">
        <span style="font-size: 2rem; font-weight: 700; color: #fff;">facto</span>
      </div>
    </header>

    <!-- Charts View -->
    <div id="charts-view">

      <!-- Row 1: Total Expenditures -->
      <div class="chart-row single">
        <div class="card">
          <h2>Gastos Totais ao Longo do Tempo</h2>
          <div class="filter-buttons">
            <button class="active" data-period="3">3</button>
            <button data-period="6">6</button>
            <button data-period="12">12</button>
          </div>
          <div class="filter-buttons" style="margin-top: 10px;">
            <button class="active" data-department="all">Todos</button>
            <button data-department="Administrativo">Administrativo</button>
            <button data-department="Comercial">Comercial</button>
            <button data-department="Diretoria">Diretoria</button>
            <button data-department="Operação">Operação</button>
            <button data-department="RH">RH</button>
            <button data-department="NEC">NEC</button>
            <button data-department="Apoio">Apoio</button>
            <button data-department="Marketing">Marketing</button>
            <button data-department="Jurídico">Jurídico</button>
          </div>
          <div class="chart-container">
            <canvas id="total-expenditures-chart"></canvas>
          </div>
        </div>
      </div>

      <!-- Row 2: Department Trends -->
      <div class="chart-row single">
        <div class="card">
          <h2>Gastos por Departamento</h2>
          <div class="filter-buttons">
            <button class="active" data-period="3">3</button>
            <button data-period="6">6</button>
            <button data-period="12">12</button>
          </div>
          <div class="filter-buttons" style="margin-top: 10px;">
            <button class="active" data-view="all">Mostrar Todos</button>
            <button data-view="main">Principais</button>
            <button data-view="others">Demais</button>
          </div>
          <div class="chart-container">
            <canvas id="department-trends-chart"></canvas>
          </div>
        </div>
      </div>

      <!-- Row 3: Average Expenditure & Employees -->
      <div class="chart-row double">
        <div class="card half">
          <h2>Gasto Médio por Funcionário</h2>
          <div class="chart-container">
            <canvas id="avg-expenditure-chart"></canvas>
          </div>
        </div>
        <div class="card half">
          <h2>Quantidade de Funcionários</h2>
          <div class="chart-container">
            <canvas id="employees-chart"></canvas>
          </div>
        </div>
      </div>

      <!-- Row 4: Percentage Stacked -->
      <div class="chart-row single">
        <div class="card">
          <h2>Participação por Departamento</h2>
          <div class="chart-container">
            <canvas id="percentage-stacked-chart"></canvas>
          </div>
        </div>
      </div>

      <!-- Row 5: Department Breakdown (Pie charts) -->
      <div class="chart-row single">
        <div class="card">
          <h2>Distribuição de Gastos por Departamento (Últimos 6 Meses)</h2>
          <div id="department-breakdown-charts"></div>
          <div class="department-legend" id="department-legend"></div>
        </div>
      </div>

    </div> <!-- end charts-view -->

    <!-- Tables View -->
    <div id="tables-view" class="hidden">
      <div class="table-buttons">
        <button id="resumo-mes-btn" class="active">Resumo por Mês</button>
        <button id="resumo-departamento-btn">Resumo por Departamento</button>
        <button id="mes-detalhado-btn">Por Mês (detalhado)</button>
        <button id="departamento-detalhado-btn">Por Departamento (detalhado)</button>
      </div>
      <div id="table-container">
        <div id="table-summary-month" class="hidden"></div>
        <div id="table-summary-department" class="hidden"></div>
        <div id="table-detailed-month" class="hidden"></div>
        <div id="table-detailed-department" class="hidden"></div>
      </div>
    </div>

  </div> <!-- end container -->

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="app_corrected.js"></script>
</body>
</html>

